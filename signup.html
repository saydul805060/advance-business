<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>অ্যাকাউন্ট তৈরি করুন - Advance Business App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: #121921;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background: linear-gradient(135deg, #1a1f27 0%, #121921 100%);
        }

        .container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8vmin;
            flex-wrap: wrap;
            padding: 2rem;
            width: 100%;
            max-width: 1200px;
        }

        /* Lamp Styles */
        .lamp-container {
            flex: 1;
            min-width: 300px;
            max-width: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .lamp {
            width: 100%;
            height: auto;
            max-height: 500px;
        }

        /* Signup Form Styles */
        .signup-form-container {
            flex: 1;
            min-width: 320px;
            max-width: 450px;
        }

        .signup-form {
            background: rgba(18, 25, 33, 0.95);
            padding: 40px 35px;
            border-radius: 20px;
            width: 100%;
            opacity: 0;
            transform: scale(0.8) translateY(20px);
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 2px solid transparent;
            box-shadow: 0 0 0px rgba(255, 255, 255, 0);
        }

        .signup-form.active {
            opacity: 1;
            transform: scale(1) translateY(0);
            pointer-events: all;
            border-color: #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3),
                        0 0 40px rgba(255, 215, 0, 0.2),
                        inset 0 0 20px rgba(255, 255, 255, 0.05);
        }

        .signup-form h2 {
            color: #fff;
            font-size: 32px;
            margin: 0 0 30px 0;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
            font-weight: 700;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-group label {
            display: block;
            color: #FFD700;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .input-with-icon {
            position: relative;
        }

        .input-with-icon i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #FFD700;
            font-size: 18px;
            z-index: 1;
        }

        .input-with-icon input {
            width: 100%;
            padding: 16px 20px 16px 50px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            color: #fff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        /* Only password fields have right padding for toggle button */
        .password-field {
            padding-right: 50px !important;
        }

        .input-with-icon input:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
            background: rgba(255, 255, 255, 0.08);
        }

        .input-with-icon input::placeholder {
            color: #aaa;
            font-size: 14px;
        }

        .password-strength {
            margin-top: 8px;
            height: 5px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .strength-bar {
            height: 100%;
            width: 0%;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .strength-weak { background: #ff4444; }
        .strength-medium { background: #ffaa00; }
        .strength-strong { background: #FFD700; }

        .password-requirements {
            margin-top: 8px;
            font-size: 12px;
            color: #aaa;
        }

        .password-requirements ul {
            list-style: none;
            padding-left: 5px;
        }

        .password-requirements li {
            margin-bottom: 3px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .password-requirements i {
            font-size: 10px;
        }

        .requirement-met {
            color: #FFD700;
        }

        .requirement-not-met {
            color: #888;
        }

        .terms-conditions {
            margin: 25px 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .terms-conditions input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #FFD700;
            margin-top: 3px;
            flex-shrink: 0;
        }

        .terms-conditions label {
            color: #FFD700;
            font-size: 14px;
            line-height: 1.4;
            cursor: pointer;
            margin: 0;
        }

        .terms-conditions a {
            color: #FFD700;
            text-decoration: none;
            font-weight: 600;
        }

        .terms-conditions a:hover {
            text-decoration: underline;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .signup-btn {
            width: 100%;
            padding: 17px;
            background: linear-gradient(135deg, #FFD700, #FFC800);
            border: none;
            border-radius: 12px;
            color: #121921;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            letter-spacing: 0.5px;
            border: 2px solid rgba(255, 215, 0, 0.5);
        }

        .signup-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4),
                        0 0 25px rgba(255, 215, 0, 0.6);
            background: linear-gradient(135deg, #FFC800, #FFD700);
        }

        .signup-btn:active {
            transform: translateY(0);
        }

        .signup-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            border-color: transparent;
        }

        .login-link {
            text-align: center;
            margin-top: 20px;
            color: #FFD700;
            font-size: 14px;
        }

        .login-link a {
            color: #FFD700;
            text-decoration: none;
            font-weight: 700;
            margin-left: 5px;
            transition: all 0.3s ease;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .login-link a:hover {
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
            text-decoration: underline;
        }

        .error-message {
            color: #ff4444;
            font-size: 14px;
            margin-top: 5px;
            min-height: 20px;
            text-align: center;
            font-weight: 500;
        }

        .success-message {
            color: #FFD700;
            font-size: 14px;
            margin-top: 5px;
            min-height: 20px;
            text-align: center;
            font-weight: 500;
        }

        /* Lamp Animation Styles */
        .cord {
            stroke: hsl(210, 0%, 40%);
        }

        .cord--rig {
            display: none;
        }

        .lamp__tongue {
            fill: #FFD700;
        }

        .lamp__hit {
            cursor: pointer;
            opacity: 0;
        }

        .lamp__feature {
            fill: #0a0a0a;
        }

        .lamp__stroke {
            stroke: #0a0a0a;
        }

        .lamp__mouth,
        .lamp__light {
            opacity: 0;
        }

        .shade__opening {
            fill: hsl(50, 10%, 20%);
        }

        .shade__opening-shade {
            opacity: 1;
        }

        .post__body {
            fill: hsl(210, 0%, 20%);
        }

        .base__top {
            fill: hsl(210, 0%, 40%);
        }

        .base__side {
            fill: hsl(210, 0%, 20%);
        }

        .top__body {
            fill: hsl(120, 0%, 10%);
        }

        /* When lamp is on */
        .lamp-on .cord {
            stroke: hsl(210, 0%, 90%);
        }

        .lamp-on .lamp__mouth,
        .lamp-on .lamp__light {
            opacity: 1;
        }

        .lamp-on .shade__opening {
            fill: hsl(50, 90%, 90%);
        }

        .lamp-on .shade__opening-shade {
            opacity: 0;
        }

        .lamp-on .post__body {
            fill: hsl(210, 0%, 60%);
        }

        .lamp-on .base__top {
            fill: hsl(210, 0%, 80%);
        }

        .lamp-on .base__side {
            fill: hsl(210, 0%, 60%);
        }

        .lamp-on .top__body {
            fill: hsl(120, 20%, 70%);
        }

        /* Progress Steps - FIXED */
        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .progress-steps::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1;
        }

        .progress-bar {
            position: absolute;
            top: 15px;
            left: 0;
            height: 3px;
            background: #FFD700;
            z-index: 2;
            transition: width 0.5s ease;
            width: 0%;
            max-width: 100%;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
        }

        .step {
            text-align: center;
            z-index: 3;
            position: relative;
            flex: 1;
        }

        .step-circle {
            width: 30px;
            height: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 8px;
            color: #888;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            z-index: 4;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .step.active .step-circle {
            background: #FFD700;
            color: #121921;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
            border-color: #FFD700;
        }

        .step.completed .step-circle {
            background: #FFD700;
            color: #121921;
            border-color: #FFD700;
        }

        .step.completed .step-circle::after {
            content: '✓';
            font-size: 14px;
            font-weight: bold;
        }

        .step-label {
            font-size: 11px;
            color: #FFD700;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 80px;
            margin: 0 auto;
        }

        .step.active .step-label {
            color: #FFD700;
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
        }

        .step.completed .step-label {
            color: #FFD700;
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
        }

        /* Form Steps */
        .form-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .form-step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Step Navigation Buttons */
        .step-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .step-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .step-btn.next {
            background: linear-gradient(135deg, #FFD700, #FFC800);
            color: #121921;
            border: 2px solid rgba(255, 215, 0, 0.5);
        }

        .step-btn.next:hover {
            background: linear-gradient(135deg, #FFC800, #FFD700);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .step-btn.prev {
            background: rgba(255, 215, 0, 0.1);
            color: #FFD700;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .step-btn.prev:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.2);
        }

        /* Step 3 summary improvement with password */
        .user-summary {
            background: rgba(255, 215, 0, 0.05);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }
        
        .summary-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .summary-label {
            color: #FFD700;
            font-size: 14px;
            font-weight: 600;
            flex: 1;
        }
        
        .summary-value {
            color: #fff;
            font-weight: 500;
            font-size: 14px;
            text-align: right;
            flex: 1;
            word-break: break-word;
        }

        /* Password mask/unmask toggle - Step 2 input fields only */
        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #FFD700;
            cursor: pointer;
            font-size: 16px;
            z-index: 10;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
        }

        .password-toggle:hover {
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }

        /* Step 3 password toggle - beside password text, not inside input */
        .summary-password-container {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 10px;
            flex: 1;
        }
        
        .summary-password-value {
            color: #fff;
            font-weight: 500;
            font-size: 14px;
            word-break: break-all;
        }
        
        .summary-password-toggle {
            background: none;
            border: none;
            color: #FFD700;
            cursor: pointer;
            font-size: 16px;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            flex-shrink: 0;
        }

        /* Download button */
        .download-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #FFD700, #FF8C00);
            border: none;
            border-radius: 12px;
            color: #121921;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: 2px solid rgba(255, 215, 0, 0.5);
            box-shadow: 0 6px 20px rgba(255, 140, 0, 0.3);
        }

        .download-btn:hover {
            background: linear-gradient(135deg, #FF8C00, #FFD700);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 140, 0, 0.4),
                        0 0 20px rgba(255, 215, 0, 0.6);
        }

        /* Important note for screenshot */
        .screenshot-note {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .screenshot-note i {
            color: #FFD700;
            font-size: 18px;
            margin-right: 8px;
        }

        .screenshot-note p {
            color: #FFD700;
            font-size: 13px;
            margin: 5px 0;
            font-weight: 500;
        }

        /* Success completion */
        .completion-message {
            text-align: center;
            padding: 15px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid rgba(255, 215, 0, 0.3);
            display: none;
        }

        .completion-message i {
            color: #FFD700;
            font-size: 24px;
            margin-bottom: 10px;
        }

        .completion-message p {
            color: #FFD700;
            font-size: 14px;
            margin: 5px 0;
            font-weight: 500;
        }

        @media (max-width: 900px) {
            .container {
                flex-direction: column;
                gap: 4vmin;
            }
            
            .lamp-container {
                max-width: 300px;
            }
            
            .signup-form {
                padding: 30px 25px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 1rem;
            }
            
            .signup-form {
                padding: 25px 20px;
            }
            
            .signup-form h2 {
                font-size: 28px;
            }
            
            .step-buttons {
                flex-direction: column;
            }
            
            .summary-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .summary-value {
                max-width: 100%;
                text-align: left;
            }
            
            .step-label {
                font-size: 10px;
                max-width: 70px;
            }
            
            .input-with-icon input {
                padding: 14px 20px 14px 45px;
            }
            
            .password-toggle {
                right: 10px;
            }
            
            .summary-password-container {
                justify-content: space-between;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Lamp SVG -->
        <div class="lamp-container">
            <svg class="lamp" viewBox="0 0 333 484" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g class="lamp__shade shade">
                    <ellipse class="shade__opening" cx="165" cy="220" rx="130" ry="20"/>
                    <ellipse class="shade__opening-shade" cx="165" cy="220" rx="130" ry="20" fill="url(#opening-shade)"/>
                </g>
                <g class="lamp__base base">
                    <path class="base__side" d="M165 464c44.183 0 80-8.954 80-20v-14h-22.869c-14.519-3.703-34.752-6-57.131-6-22.379 0-42.612 2.297-57.131 6H85v14c0 11.046 35.817 20 80 20z"/>
                    <path d="M165 464c44.183 0 80-8.954 80-20v-14h-22.869c-14.519-3.703-34.752-6-57.131-6-22.379 0-42.612 2.297-57.131 6H85v14c0 11.046 35.817 20 80 20z" fill="url(#side-shading)"/>
                    <ellipse class="base__top" cx="165" cy="430" rx="80" ry="20"/>
                    <ellipse cx="165" cy="430" rx="80" ry="20" fill="url(#base-shading)"/>
                </g>
                <g class="lamp__post post">
                    <path class="post__body" d="M180 142h-30v286c0 3.866 6.716 7 15 7 8.284 0 15-3.134 15-7V142z"/>
                    <path d="M180 142h-30v286c0 3.866 6.716 7 15 7 8.284 0 15-3.134 15-7V142z" fill="url(#post-shading)"/>
                </g>
                <g class="lamp__cords cords">
                    <path class="cord cord--rig" d="M124 187.033V347" stroke-width="6" stroke-linecap="round"/>
                    <path class="cord cord--rig" d="M124 187.023s17.007 21.921 17.007 34.846c0 12.925-11.338 23.231-17.007 34.846-5.669 11.615-17.007 21.921-17.007 34.846 0 12.925 17.007 34.846 17.007 34.846" stroke-width="6" stroke-linecap="round"/>
                    <path class="cord cord--rig" d="M124 187.017s-21.259 17.932-21.259 30.26c0 12.327 14.173 20.173 21.259 30.26 7.086 10.086 21.259 17.933 21.259 30.26 0 12.327-21.259 30.26-21.259 30.26" stroke-width="6" stroke-linecap="round"/>
                    <path class="cord cord--rig" d="M124 187s29.763 8.644 29.763 20.735-19.842 13.823-29.763 20.734c-9.921 6.912-29.763 8.644-29.763 20.735S124 269.939 124 269.939" stroke-width="6" stroke-linecap="round"/>
                    <path class="cord cord--rig" d="M124 187.029s-10.63 26.199-10.63 39.992c0 13.794 7.087 26.661 10.63 39.992 3.543 13.331 10.63 26.198 10.63 39.992 0 13.793-10.63 39.992-10.63 39.992" stroke-width="6" stroke-linecap="round"/>
                    <path class="cord cord--rig" d="M124 187.033V347" stroke-width="6" stroke-linecap="round"/>
                    <line class="cord cord--dummy" x1="124" y2="348" x2="124" y1="190" stroke-width="6" stroke-linecap="round"/>
                </g>
                <path class="lamp__light" d="M290.5 193H39L0 463.5c0 11.046 75.478 20 165.5 20s167-11.954 167-23l-42-267.5z" fill="url(#light)"/>
                <g class="lamp__top top">
                    <path class="top__body" fill-rule="evenodd" clip-rule="evenodd" d="M164.859 0c55.229 0 100 8.954 100 20l29.859 199.06C291.529 208.451 234.609 200 164.859 200S38.189 208.451 35 219.06L64.859 20c0-11.046 44.772-20 100-20z"/>
                    <path class="top__shading" fill-rule="evenodd" clip-rule="evenodd" d="M164.859 0c55.229 0 100 8.954 100 20l29.859 199.06C291.529 208.451 234.609 200 164.859 200S38.189 208.451 35 219.06L64.859 20c0-11.046 44.772-20 100-20z" fill="url(#top-shading)"/>
                </g>
                <g class="lamp__face face">
                    <g class="lamp__mouth">
                        <path d="M165 178c19.882 0 36-16.118 36-36h-72c0 19.882 16.118 36 36 36z" fill="#141414"/>
                        <clipPath class="lamp__feature" id="mouth" x="129" y="142" width="72" height="36">
                            <path d="M165 178c19.882 0 36-16.118 36-36h-72c0 19.882 16.118 36 36 36z" fill="#141414"/>
                        </clipPath>
                        <g clip-path="url(#mouth)">
                            <circle class="lamp__tongue" cx="179.4" cy="172.6" r="18"/>
                        </g>
                    </g>
                    <g class="lamp__eyes">
                        <path class="lamp__eye lamp__stroke" d="M115 135c0-5.523-5.82-10-13-10s-13 4.477-13 10" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        <path class="lamp__eye lamp__stroke" d="M241 135c0-5.523-5.82-10-13-10s-13 4.477-13 10" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                    </g>
                </g>
                <defs>
                    <linearGradient id="opening-shade" x1="35" y1="220" x2="295" y2="220" gradientUnits="userSpaceOnUse">
                        <stop/>
                        <stop offset="1" stop-color="var(--shade)" stop-opacity="0"/>
                    </linearGradient>
                    <linearGradient id="base-shading" x1="85" y1="444" x2="245" y2="444" gradientUnits="userSpaceOnUse">
                        <stop stop-color="hsla(45, 0%, 50%, 0.85)"/>
                        <stop offset="0.8" stop-color="hsla(45, 0%, 20%, 0.25)" stop-opacity="0"/>
                    </linearGradient>
                    <linearGradient id="side-shading" x1="119" y1="430" x2="245" y2="430" gradientUnits="userSpaceOnUse">
                        <stop stop-color="hsla(45, 0%, 20%, 0.5)"/>
                        <stop offset="1" stop-color="hsla(45, 0%, 20%, 0.25)" stop-opacity="0"/>
                    </linearGradient>
                    <linearGradient id="post-shading" x1="150" y1="288" x2="180" y2="288" gradientUnits="userSpaceOnUse">
                        <stop stop-color="hsla(45, 0%, 50%, 0.85)"/>
                        <stop offset="1" stop-color="hsla(45, 0%, 20%, 0.25)" stop-opacity="0"/>
                    </linearGradient>
                    <linearGradient id="light" x1="165.5" y1="218.5" x2="165.5" y2="483.5" gradientUnits="userSpaceOnUse">
                        <stop stop-color="hsla(55, 100%, 50%, 0.4)" stop-opacity=".4"/>
                        <stop offset="1" stop-color="hsla(55, 100%, 50%, 0.1)" stop-opacity="0"/>
                    </linearGradient>
                    <linearGradient id="top-shading" x1="56" y1="110" x2="295" y2="110" gradientUnits="userSpaceOnUse">
                        <stop stop-color="hsl(55, 100%, 30%)" stop-opacity=".8"/>
                        <stop offset="1" stop-color="hsl(55, 100%, 20%)" stop-opacity="0"/>
                    </linearGradient>
                </defs>
                <circle class="lamp__hit" cx="124" cy="347" r="66" fill="#FFD700" fill-opacity=".1"/>
            </svg>
        </div>

        <!-- Signup Form -->
        <div class="signup-form-container">
            <div class="signup-form" id="signupForm">
                <h2>অ্যাকাউন্ট তৈরি করুন</h2>
                
                <!-- Progress Steps -->
                <div class="progress-steps">
                    <div class="progress-bar" id="progressBar"></div>
                    <div class="step active" id="step1-indicator">
                        <div class="step-circle">1</div>
                        <div class="step-label">ব্যক্তিগত তথ্য</div>
                    </div>
                    <div class="step" id="step2-indicator">
                        <div class="step-circle">2</div>
                        <div class="step-label">অ্যাকাউন্ট তথ্য</div>
                    </div>
                    <div class="step" id="step3-indicator">
                        <div class="step-circle">3</div>
                        <div class="step-label">নিশ্চিত করুন</div>
                    </div>
                </div>
                
                <form id="signupFormElement">
                    <!-- Step 1: Personal Information -->
                    <div class="form-step active" id="step1">
                        <div class="form-group">
                            <label for="fullName">পুরো নাম</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="fullName" placeholder="আপনার পুরো নাম দিন" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">মোবাইল নম্বর</label>
                            <div class="input-with-icon">
                                <i class="fas fa-phone"></i>
                                <input type="tel" id="phone" placeholder="01XXXXXXXXX" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">ইমেইল ঠিকানা</label>
                            <div class="input-with-icon">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="email" placeholder="আপনার ইমেইল দিন" required>
                            </div>
                        </div>
                        
                        <div class="step-buttons">
                            <button type="button" class="step-btn next" id="nextStep1">পরবর্তী ধাপ</button>
                        </div>
                    </div>
                    
                    <!-- Step 2: Account Information -->
                    <div class="form-step" id="step2">
                        <div class="form-group">
                            <label for="username">ইউজারনেম</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user-tag"></i>
                                <input type="text" id="username" placeholder="একটি ইউনিক ইউজারনেম দিন" required>
                            </div>
                            <div class="error-message" id="usernameError"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="password">পাসওয়ার্ড</label>
                            <div class="input-with-icon">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="password" class="password-field" placeholder="পাসওয়ার্ড দিন" required>
                                <button type="button" class="password-toggle" id="togglePassword">
                                    <i class="far fa-eye"></i>
                                </button>
                            </div>
                            <div class="password-strength">
                                <div class="strength-bar" id="strengthBar"></div>
                            </div>
                            <div class="password-requirements">
                                <ul>
                                    <li id="reqLength"><i class="fas fa-circle requirement-not-met"></i> কমপক্ষে ৮ অক্ষর</li>
                                    <li id="reqUppercase"><i class="fas fa-circle requirement-not-met"></i> একটি বড় হাতের অক্ষর</li>
                                    <li id="reqLowercase"><i class="fas fa-circle requirement-not-met"></i> একটি ছোট হাতের অক্ষর</li>
                                    <li id="reqNumber"><i class="fas fa-circle requirement-not-met"></i> একটি সংখ্যা</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmPassword">পাসওয়ার্ড নিশ্চিত করুন</label>
                            <div class="input-with-icon">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="confirmPassword" class="password-field" placeholder="পাসওয়ার্ড আবার দিন" required>
                                <button type="button" class="password-toggle" id="toggleConfirmPassword">
                                    <i class="far fa-eye"></i>
                                </button>
                            </div>
                            <div class="error-message" id="passwordError"></div>
                        </div>
                        
                        <!-- Referral ID Field -->
                        <div class="form-group">
                            <label for="referralId">রেফারেন্স আইডি (ঐচ্ছিক)</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user-plus"></i>
                                <input type="text" id="referralId" placeholder="রেফারেন্স আইডি দিন (যদি থাকে)">
                            </div>
                            <div class="error-message" id="referralError"></div>
                            <div class="success-message" id="referralSuccess"></div>
                        </div>
                        
                        <div class="step-buttons">
                            <button type="button" class="step-btn prev" id="prevStep2">পূর্ববর্তী ধাপ</button>
                            <button type="button" class="step-btn next" id="nextStep2">পরবর্তী ধাপ</button>
                        </div>
                    </div>
                    
                    <!-- Step 3: Confirm -->
                    <div class="form-step" id="step3">
                        <!-- Screenshot Note -->
                        <div class="screenshot-note">
                            <i class="fas fa-camera"></i>
                            <p>আপনার অ্যাকাউন্ট তথ্য ডাউনলোড করুন</p>
                            <p style="font-size: 12px; opacity: 0.8;">ডাউনলোড করলে প্রগ্রেস 100% হবে এবং টিক মার্ক দেখাবে</p>
                        </div>
                        
                        <div class="form-group">
                            <div class="user-summary">
                                <h4 style="color: #FFD700; margin-bottom: 15px; text-align: center; text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);">আপনার অ্যাকাউন্ট তথ্য</h4>
                                <div class="summary-item">
                                    <span class="summary-label">নাম:</span>
                                    <span class="summary-value" id="summaryName">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">মোবাইল:</span>
                                    <span class="summary-value" id="summaryPhone">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">ইমেইল:</span>
                                    <span class="summary-value" id="summaryEmail">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">ইউজারনেম:</span>
                                    <span class="summary-value" id="summaryUsername">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">পাসওয়ার্ড:</span>
                                    <div class="summary-password-container">
                                        <span class="summary-password-value" id="summaryPassword">••••••••</span>
                                        <button type="button" class="summary-password-toggle" id="toggleSummaryPassword">
                                            <i class="far fa-eye"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">রেফারেন্স আইডি:</span>
                                    <span class="summary-value" id="summaryReferralId">-</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Download Button -->
                        <button type="button" class="download-btn" id="downloadBtn">
                            <i class="fas fa-download"></i>
                            অ্যাকাউন্ট তথ্য ডাউনলোড করুন (PDF)
                        </button>
                        
                        <!-- Completion Message (Hidden by default) -->
                        <div class="completion-message" id="completionMessage" style="display: none;">
                            <i class="fas fa-check-circle"></i>
                            <p>ডাউনলোড সম্পূর্ণ হয়েছে!</p>
                            <p style="font-size: 12px;">প্রগ্রেস 100% হয়েছে এবং টিক মার্ক দেখানো হচ্ছে</p>
                        </div>
                        
                        <div class="terms-conditions">
                            <input type="checkbox" id="terms" required>
                            <label for="terms">
                                আমি <a href="subject.html">সেবা শর্তাবলী</a> এবং <a href="privacy.html">গোপনীয়তা নীতি</a> পড়েছি এবং সম্মতি দিচ্ছি
                            </label>
                        </div>
                        
                        <div class="error-message" id="formError"></div>
                        <div class="success-message" id="formSuccess"></div>
                        
                        <div class="step-buttons">
                            <button type="button" class="step-btn prev" id="prevStep3">পূর্ববর্তী ধাপ</button>
                            <button type="submit" class="signup-btn" id="signupBtn">অ্যাকাউন্ট তৈরি করুন</button>
                        </div>
                    </div>
                </form>
                
                <div class="login-link">
                    ইতিমধ্যে অ্যাকাউন্ট আছে? <a href="login.html">লগইন করুন</a>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/Draggable.min.js"></script>
    <script src="https://assets.codepen.io/16327/MorphSVGPlugin3.min.js"></script>
    
    <script>
        // GSAP এবং প্লাগইন রেজিস্টার করুন
        const { gsap } = window;
        const { MorphSVGPlugin } = window;
        const { Draggable } = window;
        gsap.registerPlugin(MorphSVGPlugin);

        // অডিও সেটআপ
        const AUDIO = {
            CLICK: new Audio("https://assets.codepen.io/605876/click.mp3")
        };

        // DOM এলিমেন্টস
        const LAMP_SVG = document.querySelector('.lamp');
        const SIGNUP_FORM = document.getElementById('signupForm');
        const SIGNUP_FORM_ELEMENT = document.getElementById('signupFormElement');
        const SIGNUP_BTN = document.getElementById('signupBtn');
        const DOWNLOAD_BTN = document.getElementById('downloadBtn');
        const COMPLETION_MESSAGE = document.getElementById('completionMessage');
        const FORM_ERROR = document.getElementById('formError');
        const FORM_SUCCESS = document.getElementById('formSuccess');
        const PROGRESS_BAR = document.getElementById('progressBar');

        // ফর্ম ধাপের এলিমেন্টস
        const STEPS = document.querySelectorAll('.form-step');
        const STEP_INDICATORS = document.querySelectorAll('.step');
        let currentStep = 1;
        let hasDownloaded = false;

        // ল্যাম্প অ্যানিমেশন ভেরিয়েবলস
        const CORDS = gsap.utils.toArray(".cords path");
        const CORD_DURATION = 0.1;
        const HIT = document.querySelector(".lamp__hit");
        const DUMMY_CORD = document.querySelector(".cord--dummy");
        const ENDX = DUMMY_CORD.getAttribute("x2");
        const ENDY = DUMMY_CORD.getAttribute("y2");
        const PROXY = document.createElement("div");

        let startX, startY;
        let STATE = { ON: false };

        // প্রোক্সি সেটআপ
        const RESET = () => {
            gsap.set(PROXY, { x: ENDX, y: ENDY });
        };
        RESET();

        // ইনিশিয়াল সেটআপ - ল্যাম্প শুরুতে নিভানো থাকবে
        gsap.set([".cords", HIT], { x: -10 });
        gsap.set(".lamp__eye", { rotate: 180, transformOrigin: "50% 50%", yPercent: 50 });
        // ল্যাম্প শুরুতে নিভানো রাখুন
        LAMP_SVG.classList.remove('lamp-on');
        SIGNUP_FORM.classList.remove('active');

        // কর্ড অ্যানিমেশন টাইমলাইন
        const CORD_TL = gsap.timeline({
            paused: true,
            onStart: () => {
                STATE.ON = !STATE.ON;
                
                // ল্যাম্প স্টেট পরিবর্তন
                if (STATE.ON) {
                    LAMP_SVG.classList.add('lamp-on');
                    SIGNUP_FORM.classList.add('active');
                } else {
                    LAMP_SVG.classList.remove('lamp-on');
                    SIGNUP_FORM.classList.remove('active');
                }
                
                // চোখের অ্যানিমেশন
                gsap.set(".lamp__eye", { rotate: STATE.ON ? 0 : 180 });
                
                // কর্ড ডিসপ্লে সেটিং
                gsap.set([DUMMY_CORD, HIT], { display: "none" });
                gsap.set(CORDS[0], { display: "block" });
                
                // অডিও প্লে
                AUDIO.CLICK.play();
            },
            onComplete: () => {
                gsap.set([DUMMY_CORD, HIT], { display: "block" });
                gsap.set(CORDS[0], { display: "none" });
                RESET();
            }
        });

        // কর্ড মর্ফিং অ্যানিমেশন
        for (let i = 1; i < CORDS.length; i++) {
            CORD_TL.add(
                gsap.to(CORDS[0], {
                    morphSVG: CORDS[i],
                    duration: CORD_DURATION,
                    repeat: 1,
                    yoyo: true
                })
            );
        }

        // ল্যাম্প কর্ড ড্র্যাগেবল
        Draggable.create(PROXY, {
            trigger: HIT,
            type: "x,y",
            onPress: (e) => {
                startX = e.x;
                startY = e.y;
            },
            onDrag: function() {
                gsap.set(DUMMY_CORD, {
                    attr: { x2: this.x, y2: Math.max(400, this.y) }
                });
            },
            onRelease: function(e) {
                const DISTX = Math.abs(e.x - startX);
                const DISTY = Math.abs(e.y - startY);
                const TRAVELLED = Math.sqrt(DISTX * DISTX + DISTY * DISTY);
                
                gsap.to(DUMMY_CORD, {
                    attr: { x2: ENDX, y2: ENDY },
                    duration: CORD_DURATION,
                    onComplete: () => {
                        if (TRAVELLED > 50) {
                            CORD_TL.restart();
                        } else {
                            RESET();
                        }
                    }
                });
            }
        });

        // ল্যাম্প শো করুন
        gsap.set(".lamp", { display: "block" });

        // ল্যাম্প অন/অফ টগল ফাংশন
        function toggleLamp() {
            CORD_TL.restart();
        }

        // ==================== ট্র্যাকিং ফাংশন ====================
        
        // Get user IP and device info
        async function getTrackingInfo() {
            try {
                // Get IP
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                const ip = ipData.ip;
                
                // Get device info
                const device = navigator.userAgent;
                
                // Get location (simplified)
                let location = 'বাংলাদেশ';
                try {
                    const locationResponse = await fetch(`https://ipapi.co/${ip}/json/`);
                    const locationData = await locationResponse.json();
                    if (locationData.city && locationData.country_name) {
                        location = `${locationData.city}, ${locationData.country_name}`;
                    }
                } catch (e) {
                    console.log('Location fetch failed, using default');
                }
                
                return { ip, device, location };
            } catch (error) {
                return { 
                    ip: 'IP না পাওয়া গেছে', 
                    device: navigator.userAgent, 
                    location: 'বাংলাদেশ' 
                };
            }
        }

        // Track user signup
        async function trackUserSignup(userData) {
            try {
                const trackingInfo = await getTrackingInfo();
                
                const trackingData = JSON.parse(localStorage.getItem('tracking_data')) || [];
                
                const signupTracking = {
                    id: Date.now(),
                    event: 'signup',
                    username: userData.username,
                    name: userData.name,
                    ipAddress: trackingInfo.ip,
                    device: trackingInfo.device,
                    location: trackingInfo.location,
                    timestamp: new Date().toISOString(),
                    country: 'Bangladesh',
                    city: trackingInfo.location.split(',')[0]?.trim() || 'Unknown'
                };
                
                trackingData.push(signupTracking);
                localStorage.setItem('tracking_data', JSON.stringify(trackingData));
                
                // Send notification to admin
                sendAdminNotification('new_user', 
                    `${userData.name} (${userData.phone}) নতুন অ্যাকাউন্ট তৈরি করেছেন`, 
                    userData.username
                );
                
                console.log('Signup tracked:', signupTracking);
                
            } catch (error) {
                console.error('Error tracking signup:', error);
            }
        }

        // Send notification to admin
        function sendAdminNotification(type, message, username) {
            const notifications = JSON.parse(localStorage.getItem('admin_notifications')) || [];
            
            const notification = {
                id: Date.now(),
                type: type,
                title: type === 'login' ? 'লগইন' : type === 'signup' ? 'নতুন ইউজার' : 'অ্যালার্ট',
                message: message,
                username: username,
                timestamp: new Date().toISOString(),
                read: false,
                priority: type === 'alert' ? 'high' : 'medium'
            };
            
            notifications.push(notification);
            localStorage.setItem('admin_notifications', JSON.stringify(notifications));
        }

        // ==================== মূল সাইনআপ ফাংশন ====================
        
        // পাসওয়ার্ড শো/হাইড টগল - Step 2 (ইনপুট ফিল্ডের মধ্যে)
        function togglePasswordVisibility(passwordField, toggleButton) {
            const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordField.setAttribute('type', type);
            toggleButton.innerHTML = type === 'password' ? '<i class="far fa-eye"></i>' : '<i class="far fa-eye-slash"></i>';
        }

        // পাসওয়ার্ড শো/হাইড টগল - Step 3 (Summary এ পাসওয়ার্ড টেক্সটের পাশে)
        function toggleSummaryPasswordVisibility() {
            const summaryPassword = document.getElementById('summaryPassword');
            const icon = document.querySelector('#toggleSummaryPassword i');
            
            if (summaryPassword.textContent === '••••••••') {
                // আসল পাসওয়ার্ড দেখান
                const actualPassword = document.getElementById('password').value;
                summaryPassword.textContent = actualPassword;
                icon.className = 'far fa-eye-slash';
            } else {
                // ডট হিসেবে দেখান
                summaryPassword.textContent = '••••••••';
                icon.className = 'far fa-eye';
            }
        }

        // ধাপ পরিবর্তন ফাংশন
        function goToStep(step) {
            // বর্তমান ধাপ লুকান
            STEPS.forEach(s => s.classList.remove('active'));
            STEP_INDICATORS.forEach(indicator => {
                indicator.classList.remove('active', 'completed');
            });

            // নতুন ধাপ দেখান
            document.getElementById(`step${step}`).classList.add('active');

            // ধাপ নির্দেশক আপডেট
            for (let i = 1; i <= step; i++) {
                const indicator = document.getElementById(`step${i}-indicator`);
                if (i === step) {
                    indicator.classList.add('active');
                } else if (i < step) {
                    indicator.classList.add('completed');
                }
            }

            // প্রোগ্রেস বার আপডেট - সম্পূর্ণ 100% পর্যন্ত হবে
            let progressPercentage = 0;
            if (step === 1) {
                progressPercentage = 0;
            } else if (step === 2) {
                progressPercentage = 50;
            } else if (step === 3) {
                // যদি ডাউনলোড করা হয়ে থাকে তাহলে 100%, নাহলে 66%
                progressPercentage = hasDownloaded ? 100 : 66;
            }
            
            // 100% পর্যন্ত হবে
            progressPercentage = Math.min(progressPercentage, 100);
            PROGRESS_BAR.style.width = `${progressPercentage}%`;

            currentStep = step;

            // ধাপ ৩ এ গেলে তথ্য আপডেট করুন
            if (step === 3) {
                updateSummary();
                // যদি আগেই ডাউনলোড করা হয়ে থাকে
                if (hasDownloaded) {
                    showCompletion();
                }
            }
        }

        // ডাউনলোড সম্পূর্ণ দেখান
        function showCompletion() {
            // ৩য় ধাপে টিক মার্ক দেখান
            const step3Indicator = document.getElementById('step3-indicator');
            step3Indicator.classList.add('completed');
            
            // প্রগ্রেস বার 100% করুন
            PROGRESS_BAR.style.width = '100%';
            
            // কমপ্লিশন মেসেজ দেখান
            COMPLETION_MESSAGE.style.display = 'block';
            DOWNLOAD_BTN.style.display = 'none';
            
            // টার্মস চেকবক্স অটো চেক করুন
            document.getElementById('terms').checked = true;
            
            hasDownloaded = true;
        }

        // PDF ফাইল ডাউনলোড ফাংশন
        async function downloadAccountInfoPDF() {
            const name = document.getElementById('fullName').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const referralId = document.getElementById('referralId').value || 'কোনো রেফারেন্স নেই';
            const date = new Date().toLocaleString('bn-BD');
            
            // jsPDF লোড হয়েছে কিনা চেক করুন
            if (typeof window.jspdf !== 'undefined') {
                const { jsPDF } = window.jspdf;
                
                try {
                    // নতুন PDF ডকুমেন্ট তৈরি করুন
                    const doc = new jsPDF();
                    
                    // PDF স্টাইলিং
                    doc.setFontSize(24);
                    doc.setTextColor(255, 215, 0); // হলুদ রং
                    doc.text('Advance Business - অ্যাকাউন্ট তথ্য', 105, 20, null, null, 'center');
                    
                    // লাইন
                    doc.setDrawColor(255, 215, 0);
                    doc.setLineWidth(0.5);
                    doc.line(20, 25, 190, 25);
                    
                    // ডাউনলোড তারিখ
                    doc.setFontSize(11);
                    doc.setTextColor(150, 150, 150);
                    doc.text(`ডাউনলোড তারিখ: ${date}`, 105, 35, null, null, 'center');
                    
                    // তথ্য যোগ করুন
                    doc.setFontSize(14);
                    doc.setTextColor(255, 215, 0);
                    doc.text('ব্যক্তিগত তথ্য:', 20, 50);
                    
                    doc.setFontSize(12);
                    doc.setTextColor(0, 0, 0);
                    doc.text(`• নাম: ${name}`, 25, 60);
                    doc.text(`• মোবাইল: ${phone}`, 25, 67);
                    doc.text(`• ইমেইল: ${email}`, 25, 74);
                    
                    doc.setFontSize(14);
                    doc.setTextColor(255, 215, 0);
                    doc.text('অ্যাকাউন্ট তথ্য:', 20, 90);
                    
                    doc.setFontSize(12);
                    doc.setTextColor(0, 0, 0);
                    doc.text(`• ইউজারনেম: ${username}`, 25, 100);
                    doc.text(`• পাসওয়ার্ড: ${password}`, 25, 107);
                    doc.text(`• রেফারেন্স আইডি: ${referralId}`, 25, 114);
                    
                    // গুরুত্বপূর্ণ নির্দেশিকা
                    doc.setFontSize(14);
                    doc.setTextColor(255, 215, 0);
                    doc.text('গুরুত্বপূর্ণ নির্দেশিকা:', 20, 130);
                    
                    doc.setFontSize(10);
                    doc.setTextColor(0, 0, 0);
                    const instructions = [
                        '1. এই তথ্য নিরাপদে সংরক্ষণ করুন',
                        '2. কাউকে শেয়ার করবেন না',
                        '3. লগইন করার সময় ব্যবহার করুন',
                        '4. সমস্যা হলে হেল্পলাইনে যোগাযোগ করুন'
                    ];
                    
                    instructions.forEach((instruction, index) => {
                        doc.text(instruction, 25, 140 + (index * 7));
                    });
                    
                    // যোগাযোগ তথ্য
                    doc.setFontSize(11);
                    doc.setTextColor(150, 150, 150);
                    doc.text('Contact: +8801XXX-XXXXXX', 105, 180, null, null, 'center');
                    doc.text('Website: advancebusiness.com', 105, 187, null, null, 'center');
                    
                    // ফুটার
                    doc.setFontSize(9);
                    doc.setTextColor(100, 100, 100);
                    doc.text('© 2024 Advance Business. সর্বস্বত্ব সংরক্ষিত।', 105, 280, null, null, 'center');
                    
                    // PDF ডাউনলোড করুন
                    doc.save(`advance_business_account_${username}.pdf`);
                    
                    // কমপ্লিশন দেখান
                    showCompletion();
                    
                    // সফলতা মেসেজ
                    FORM_SUCCESS.textContent = 'আপনার অ্যাকাউন্ট তথ্য PDF আকারে ডাউনলোড হয়েছে!';
                    
                    // ডাউনলোড লগ
                    console.log('PDF ডাউনলোড সম্পন্ন:', username);
                    
                } catch (error) {
                    console.error('PDF তৈরি করতে সমস্যা:', error);
                    // ফলব্যাক হিসেবে টেক্সট ফাইল ডাউনলোড
                    downloadAccountInfoText();
                }
            } else {
                console.log('jsPDF লোড হয়নি, টেক্সট ফাইল ডাউনলোড হচ্ছে...');
                // যদি jsPDF লোড না হয়, তাহলে টেক্সট ফাইল হিসেবে ডাউনলোড করুন
                downloadAccountInfoText();
            }
        }

        // টেক্সট ফাইল ডাউনলোড (ফলব্যাক)
        function downloadAccountInfoText() {
            const name = document.getElementById('fullName').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const referralId = document.getElementById('referralId').value || 'কোনো রেফারেন্স নেই';
            const date = new Date().toLocaleString('bn-BD');

            // টেক্সট ফাইল কন্টেন্ট তৈরি
            const content = `
Advance Business - অ্যাকাউন্ট তথ্য
==================================
ডাউনলোড তারিখ: ${date}

ব্যক্তিগত তথ্য:
-------------
• নাম: ${name}
• মোবাইল: ${phone}
• ইমেইল: ${email}

অ্যাকাউন্ট তথ্য:
---------------
• ইউজারনেম: ${username}
• পাসওয়ার্ড: ${password}
• রেফারেন্স আইডি: ${referralId}

গুরুত্বপূর্ণ নির্দেশনা:
---------------------
1. এই তথ্য নিরাপদে সংরক্ষণ করুন
2. কাউকে শেয়ার করবেন না
3. লগইন করার সময় ব্যবহার করুন
4. সমস্যা হলে হেল্পলাইনে যোগাযোগ করুন

Contact: +8801XXX-XXXXXX
Website: advancebusiness.com
==================================
`;

            try {
                // ব্লব তৈরি করে ডাউনলোড
                const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `advance_business_account_${username}.txt`;
                a.style.display = 'none';
                document.body.appendChild(a);
                a.click();
                
                // ক্লিনআপ
                setTimeout(() => {
                    document.body.removeChild(a);
                    window.URL.revokeObjectURL(url);
                }, 100);

                // কমপ্লিশন দেখান
                showCompletion();
                
                // সফলতা মেসেজ
                FORM_SUCCESS.textContent = 'আপনার অ্যাকাউন্ট তথ্য ডাউনলোড হয়েছে!';
                
                console.log('টেক্সট ফাইল ডাউনলোড সম্পন্ন:', username);
                
            } catch (error) {
                console.error('ফাইল ডাউনলোডে সমস্যা:', error);
                FORM_ERROR.textContent = 'ডাউনলোডে সমস্যা হয়েছে! আবার চেষ্টা করুন।';
            }
        }

        // রেফারেন্স আইডি ভ্যালিডেশন
        function validateReferralId(referralId) {
            const referralError = document.getElementById('referralError');
            const referralSuccess = document.getElementById('referralSuccess');
            
            // যদি খালি থাকে
            if (!referralId.trim()) {
                referralError.textContent = '';
                referralSuccess.textContent = '';
                return { valid: true, message: '' };
            }
            
            // ফরম্যাট চেক (অক্ষর + সংখ্যা)
            const referralRegex = /^[A-Za-z]{3}\d{4}$/;
            if (!referralRegex.test(referralId)) {
                return { 
                    valid: false, 
                    message: 'সঠিক রেফারেন্স আইডি ফরম্যাট নয় (উদাহরণ: ABC1234)' 
                };
            }
            
            // ডাটাবেসে চেক করুন
            const allUsers = JSON.parse(localStorage.getItem('all_users')) || [];
            const referralUsers = JSON.parse(localStorage.getItem('referral_users')) || [];
            
            // সব ইউজার থেকে খুঁজুন
            const foundUser = allUsers.find(user => user.referralId === referralId.toUpperCase());
            
            if (!foundUser) {
                return { 
                    valid: false, 
                    message: 'ভুল রেফারেন্স আইডি! সঠিক আইডি দিন অথবা খালি রাখুন' 
                };
            }
            
            return { 
                valid: true, 
                message: 'রেফারেন্স আইডি ভ্যালিড!',
                referrer: foundUser
            };
        }

        // তথ্য সামারি আপডেট (পাসওয়ার্ড সহ)
        function updateSummary() {
            document.getElementById('summaryName').textContent = document.getElementById('fullName').value || '-';
            document.getElementById('summaryPhone').textContent = document.getElementById('phone').value || '-';
            document.getElementById('summaryEmail').textContent = document.getElementById('email').value || '-';
            document.getElementById('summaryUsername').textContent = document.getElementById('username').value || '-';
            
            // পাসওয়ার্ড ডট হিসেবে দেখাবে
            const password = document.getElementById('password').value;
            document.getElementById('summaryPassword').textContent = password ? '••••••••' : '-';
            
            const referralId = document.getElementById('referralId').value;
            document.getElementById('summaryReferralId').textContent = referralId ? referralId : 'কোনো রেফারেন্স নেই';
        }

        // ভ্যালিডেশন ফাংশনস
        function validateStep1() {
            const fullName = document.getElementById('fullName').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const email = document.getElementById('email').value.trim();

            if (!fullName || !phone || !email) {
                alert('সব প্রয়োজনীয় তথ্য পূরণ করুন!');
                return false;
            }

            // নাম ভ্যালিডেশন
            if (fullName.length < 3) {
                alert('নাম কমপক্ষে ৩ অক্ষরের হতে হবে!');
                return false;
            }

            // ফোন ভ্যালিডেশন
            const phoneRegex = /^01[3-9]\d{8}$/;
            if (!phoneRegex.test(phone)) {
                alert('সঠিক মোবাইল নম্বর দিন! (উদাহরণ: 017XXXXXXXX)');
                return false;
            }

            // ইমেইল ভ্যালিডেশন
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('সঠিক ইমেইল দিন!');
                return false;
            }

            return true;
        }

        function validateStep2() {
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const referralId = document.getElementById('referralId').value.trim();
            const usernameError = document.getElementById('usernameError');
            const passwordError = document.getElementById('passwordError');
            const referralError = document.getElementById('referralError');

            usernameError.textContent = '';
            passwordError.textContent = '';
            referralError.textContent = '';

            // ইউজারনেম ভ্যালিডেশন
            if (username.length < 3) {
                usernameError.textContent = 'ইউজারনেম কমপক্ষে ৩ অক্ষরের হতে হবে!';
                return false;
            }

            // ইউজারনেম ইউনিকনেস চেক
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userExists = users.find(u => u.username === username);
            if (userExists) {
                usernameError.textContent = 'এই ইউজারনেম ইতিমধ্যে ব্যবহৃত হয়েছে!';
                return false;
            }

            // পাসওয়ার্ড ভ্যালিডেশন
            if (password.length < 4) {
                passwordError.textContent = 'পাসওয়ার্ড কমপক্ষে ৪ অক্ষরের হতে হবে!';
                return false;
            }

            // পাসওয়ার্ড কনফার্মেশন
            if (password !== confirmPassword) {
                passwordError.textContent = 'পাসওয়ার্ড মিলছে না!';
                return false;
            }

            // রেফারেন্স আইডি ভ্যালিডেশন
            if (referralId) {
                const referralValidation = validateReferralId(referralId);
                if (!referralValidation.valid) {
                    referralError.textContent = referralValidation.message;
                    return false;
                }
            }

            return true;
        }

        function validateStep3() {
            const terms = document.getElementById('terms').checked;
            
            if (!terms) {
                FORM_ERROR.textContent = 'সেবা শর্তাবলীতে সম্মতি দিন!';
                return false;
            }

            // ডাউনলোড চেক
            if (!hasDownloaded) {
                FORM_ERROR.textContent = 'প্রথমে আপনার অ্যাকাউন্ট তথ্য PDF ডাউনলোড করুন!';
                return false;
            }

            return true;
        }

        // পাসওয়ার্ড স্ট্রেংথ চেক
        function checkPasswordStrength(password) {
            let strength = 0;
            const strengthBar = document.getElementById('strengthBar');
            const requirements = {
                length: document.getElementById('reqLength'),
                uppercase: document.getElementById('reqUppercase'),
                lowercase: document.getElementById('reqLowercase'),
                number: document.getElementById('reqNumber')
            };

            // Reset
            strengthBar.style.width = '0%';
            strengthBar.className = 'strength-bar';

            // Check length
            if (password.length >= 8) {
                strength += 25;
                requirements.length.querySelector('i').className = 'fas fa-circle requirement-met';
            } else {
                requirements.length.querySelector('i').className = 'fas fa-circle requirement-not-met';
            }

            // Check uppercase
            if (/[A-Z]/.test(password)) {
                strength += 25;
                requirements.uppercase.querySelector('i').className = 'fas fa-circle requirement-met';
            } else {
                requirements.uppercase.querySelector('i').className = 'fas fa-circle requirement-not-met';
            }

            // Check lowercase
            if (/[a-z]/.test(password)) {
                strength += 25;
                requirements.lowercase.querySelector('i').className = 'fas fa-circle requirement-met';
            } else {
                requirements.lowercase.querySelector('i').className = 'fas fa-circle requirement-not-met';
            }

            // Check number
            if (/[0-9]/.test(password)) {
                strength += 25;
                requirements.number.querySelector('i').className = 'fas fa-circle requirement-met';
            } else {
                requirements.number.querySelector('i').className = 'fas fa-circle requirement-not-met';
            }

            // Update strength bar
            strengthBar.style.width = `${strength}%`;
            
            if (strength < 50) {
                strengthBar.classList.add('strength-weak');
            } else if (strength < 75) {
                strengthBar.classList.add('strength-medium');
            } else {
                strengthBar.classList.add('strength-strong');
            }
        }

        // রেফারেন্স আইডি জেনারেট
        function generateReferralId(username) {
            if (!username) return '';
            
            // নামের প্রথম ৩ অক্ষর নিন (বাংলা বা ইংরেজি)
            let namePart = '';
            for (let i = 0; i < Math.min(3, username.length); i++) {
                const char = username.charAt(i);
                if (char.match(/[a-zA-Z]/)) {
                    namePart += char.toUpperCase();
                } else {
                    // র‍্যান্ডম অক্ষর
                    namePart += String.fromCharCode(65 + Math.floor(Math.random() * 26));
                }
            }
            
            // র‍্যান্ডম সংখ্যা যোগ করুন
            const randomNum = Math.floor(1000 + Math.random() * 9000);
            return namePart + randomNum;
        }

        // ইউজার রেজিস্ট্রেশন
        async function registerUser() {
            const username = document.getElementById('username').value.trim();
            const referralId = document.getElementById('referralId').value.trim();
            const password = document.getElementById('password').value;
            
            // Get tracking info
            const trackingInfo = await getTrackingInfo();
            
            const user = {
                username: username,
                password: password,
                name: document.getElementById('fullName').value.trim(),
                phone: document.getElementById('phone').value.trim(),
                email: document.getElementById('email').value.trim(),
                referralId: generateReferralId(username),
                referredBy: referralId || null,
                createdAt: new Date().toISOString(),
                profilePhoto: 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png',
                status: 'active',
                lastLogin: new Date().toLocaleString('bn-BD'),
                ipAddress: trackingInfo.ip,
                location: trackingInfo.location,
                deviceInfo: trackingInfo.device
            };

            // ইউজার ডাটাবেসে সংরক্ষণ
            const users = JSON.parse(localStorage.getItem('users')) || [];
            users.push(user);
            localStorage.setItem('users', JSON.stringify(users));
            
            // all_users ডাটাবেসে সংরক্ষণ (রেফারেন্স সার্চের জন্য)
            const allUsers = JSON.parse(localStorage.getItem('all_users')) || [];
            allUsers.push(user);
            localStorage.setItem('all_users', JSON.stringify(allUsers));
            
            // ট্র্যাকিং: সাইনআপ ট্র্যাক করুন
            await trackUserSignup(user);
            
            // রেফারেন্স ইউজার ডাটাবেস আপডেট
            if (referralId) {
                const referralUsers = JSON.parse(localStorage.getItem('referral_users')) || [];
                const referralData = {
                    userId: user.username,
                    name: user.name,
                    phone: user.phone,
                    email: user.email,
                    referralId: user.referralId,
                    referredBy: referralId,
                    joinDate: new Date().toLocaleDateString('bn-BD'),
                    joinTime: new Date().toLocaleTimeString('bn-BD')
                };
                referralUsers.push(referralData);
                localStorage.setItem('referral_users', JSON.stringify(referralUsers));
                
                // রেফারার এর রেফারাল কাউন্ট আপডেট
                updateReferralCount(referralId, user.username);
            }

            // সেশন স্টোরেজে লগইন ইনফো সেভ
            sessionStorage.setItem('isLoggedIn', 'true');
            sessionStorage.setItem('username', user.username);
            sessionStorage.setItem('name', user.name);
            sessionStorage.setItem('phone', user.phone);
            sessionStorage.setItem('email', user.email);
            sessionStorage.setItem('referralId', user.referralId);
            sessionStorage.setItem('password', password);

            return user;
        }

        // রেফারাল কাউন্ট আপডেট
        function updateReferralCount(referralId, newUserId) {
            const referralCounts = JSON.parse(localStorage.getItem('referral_counts')) || {};
            
            if (!referralCounts[referralId]) {
                referralCounts[referralId] = {
                    count: 0,
                    users: []
                };
            }
            
            referralCounts[referralId].count++;
            referralCounts[referralId].users.push(newUserId);
            
            localStorage.setItem('referral_counts', JSON.stringify(referralCounts));
        }

        // ধাপ নেভিগেশন ইভেন্টস
        document.getElementById('nextStep1').addEventListener('click', function() {
            if (validateStep1()) {
                goToStep(2);
            }
        });

        document.getElementById('prevStep2').addEventListener('click', function() {
            goToStep(1);
        });

        document.getElementById('nextStep2').addEventListener('click', function() {
            if (validateStep2()) {
                goToStep(3);
            }
        });

        document.getElementById('prevStep3').addEventListener('click', function() {
            goToStep(2);
        });

        // পাসওয়ার্ড স্ট্রেংথ চেক ইভেন্ট
        document.getElementById('password').addEventListener('input', function(e) {
            checkPasswordStrength(e.target.value);
        });

        // রেফারেন্স আইডি চেক ইভেন্ট
        document.getElementById('referralId').addEventListener('input', function(e) {
            const referralId = e.target.value.trim();
            if (referralId) {
                const validation = validateReferralId(referralId);
                const referralError = document.getElementById('referralError');
                const referralSuccess = document.getElementById('referralSuccess');
                
                if (validation.valid) {
                    referralError.textContent = '';
                    referralSuccess.textContent = validation.message;
                } else {
                    referralError.textContent = validation.message;
                    referralSuccess.textContent = '';
                }
            } else {
                document.getElementById('referralError').textContent = '';
                document.getElementById('referralSuccess').textContent = '';
            }
        });

        // পাসওয়ার্ড টগল ইভেন্টস - Step 2 (ইনপুট ফিল্ডের মধ্যে)
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordField = document.getElementById('password');
            togglePasswordVisibility(passwordField, this);
        });

        document.getElementById('toggleConfirmPassword').addEventListener('click', function() {
            const confirmPasswordField = document.getElementById('confirmPassword');
            togglePasswordVisibility(confirmPasswordField, this);
        });

        // পাসওয়ার্ড টগল ইভেন্ট - Step 3 (Summary এ পাসওয়ার্ড টেক্সটের পাশে)
        document.getElementById('toggleSummaryPassword').addEventListener('click', function() {
            toggleSummaryPasswordVisibility();
        });

        // ডাউনলোড বাটন ইভেন্ট (PDF)
        document.getElementById('downloadBtn').addEventListener('click', function() {
            // প্রথমে ভ্যালিডেশন চেক
            if (!validateStep1() || !validateStep2()) {
                FORM_ERROR.textContent = 'প্রথমে সব তথ্য সঠিকভাবে পূরণ করুন!';
                return;
            }
            
            FORM_ERROR.textContent = '';
            FORM_SUCCESS.textContent = 'PDF তৈরি হচ্ছে...';
            
            // ডাউনলোড শুরু করুন
            setTimeout(() => {
                downloadAccountInfoPDF();
            }, 500);
        });

        // সাইনআপ ফর্ম সাবমিশন
        SIGNUP_FORM_ELEMENT.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            FORM_ERROR.textContent = '';
            FORM_SUCCESS.textContent = '';

            // সব ধাপ ভ্যালিডেট করুন
            if (!validateStep1() || !validateStep2() || !validateStep3()) {
                FORM_ERROR.textContent = 'সব তথ্য সঠিকভাবে পূরণ করুন!';
                return;
            }

            // সাইনআপ বাটন ডিজেবল করুন
            SIGNUP_BTN.disabled = true;
            SIGNUP_BTN.textContent = 'অ্যাকাউন্ট তৈরি হচ্ছে...';

            // ইউজার রেজিস্ট্রেশন
            const user = await registerUser();

            // সফলতা মেসেজ
            FORM_SUCCESS.textContent = 'অ্যাকাউন্ট সফলভাবে তৈরি হয়েছে! লগইন পেজে যাচ্ছে...';

            // ল্যাম্প অন করুন
            toggleLamp();

            // ৩ সেকেন্ড পর লগইন পেজে রিডাইরেক্ট
            setTimeout(() => {
                window.location.href = 'login.html?message=signup_success';
            }, 3000);
        });

        // ল্যাম্পে ক্লিক করলে টগল হবে
        HIT.addEventListener('click', function() {
            toggleLamp();
        });

        // পেজ লোড হওয়ার সময় ইনিশিয়ালাইজ করুন
        document.addEventListener('DOMContentLoaded', function() {
            // URL প্যারামিটার চেক
            const urlParams = new URLSearchParams(window.location.search);
            const message = urlParams.get('message');
            
            if (message === 'redirect_from_login') {
                FORM_SUCCESS.textContent = 'অ্যাকাউন্ট তৈরি করতে নিবন্ধন করুন!';
            }
            
            // প্রগ্রেস বার ইনিশিয়ালাইজ করুন
            PROGRESS_BAR.style.maxWidth = '100%';
            PROGRESS_BAR.style.width = '0%';
            
            // ডাউনলোড বাটন স্টাইল
            DOWNLOAD_BTN.innerHTML = '<i class="fas fa-download"></i> অ্যাকাউন্ট তথ্য ডাউনলোড করুন (PDF)';
            
            // Password toggle buttons position fix for step 2
            const passwordToggles = document.querySelectorAll('.password-toggle');
            passwordToggles.forEach(toggle => {
                // Find the parent input container
                const inputContainer = toggle.closest('.input-with-icon');
                if (inputContainer) {
                    // Position the toggle inside the input container
                    toggle.style.position = 'absolute';
                    toggle.style.right = '15px';
                    toggle.style.top = '50%';
                    toggle.style.transform = 'translateY(-50%)';
                    toggle.style.zIndex = '10';
                }
            });
            
            // Initialize empty databases if not exists
            if (!localStorage.getItem('tracking_data')) {
                localStorage.setItem('tracking_data', JSON.stringify([]));
            }
            
            if (!localStorage.getItem('admin_notifications')) {
                localStorage.setItem('admin_notifications', JSON.stringify([]));
            }
            
            if (!localStorage.getItem('referral_counts')) {
                localStorage.setItem('referral_counts', JSON.stringify({}));
            }
        });
    </script>
</body>
</html>